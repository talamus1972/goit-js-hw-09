{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-form.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst STORAGE_KEY = \"feedback-form-state\";\nconst form = document.querySelector(\".feedback-form\");\n\nconst input = form.querySelector(\"input\");\ninput.classList.add(\"input\");\n\nconst textarea = form.querySelector(\"textarea\");\ntextarea.classList.add(\"textarea\");\n\nconst btn = form.querySelector(\"button\");\nbtn.classList.add(\"submitbatton\");\n\nconst label = form.querySelector(\"label\");\nlabel.classList.add(\"labelname\");\n\nconst initialMessage = JSON.parse(localStorage.getItem(STORAGE_KEY));\n\n\nif (initialMessage) {\n    textarea.value = initialMessage.message.trim();\n    input.value = initialMessage.email.trim();\n    btn.disabled = !(input.value && textarea.value)\n}\n\nform.addEventListener(\"input\", throttle(() => {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify({ email: input.value, message: textarea.value }));\n    btn.disabled = !(input.value && textarea.value);\n    \n},500))\n\nform.addEventListener(\"submit\", event => {\n    event.preventDefault();\n    console.log({ email: input.value, message: textarea.value });\n    form.reset();\n    localStorage.removeItem(STORAGE_KEY);\n    btn.disabled = true;\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n// form.addEventListener(\"submit\", (event) => {\n//     event.preventDefault();\n//     if (input === \"\") {\n//         alert(\"Write email\");\n    \n// }\n//     else if (textarea === \"\") {\n//         alert(\"Write text\");\n//     }\n//     localStorage.removeItem(STORAGE_KEY);\n//     form.reset();\n// })\n\n// textarea.addEventListener(\"input\", (event) => {\n//     const message = event.currentTarget.value;\n//     localStorage.setItem(STORAGE_KEY, message.trim());\n// })\n\n// input.addEventListener(\"input\", (event) => {\n//     const email = event.currentTarget.value;\n//     localStorage.setItem(STORAGE_KEY, email.trim());\n// })"],"names":["STORAGE_KEY","form","input","textarea","btn","label","initialMessage","throttle","event"],"mappings":"oGAEA,MAAMA,EAAc,sBACdC,EAAO,SAAS,cAAc,gBAAgB,EAE9CC,EAAQD,EAAK,cAAc,OAAO,EACxCC,EAAM,UAAU,IAAI,OAAO,EAE3B,MAAMC,EAAWF,EAAK,cAAc,UAAU,EAC9CE,EAAS,UAAU,IAAI,UAAU,EAEjC,MAAMC,EAAMH,EAAK,cAAc,QAAQ,EACvCG,EAAI,UAAU,IAAI,cAAc,EAEhC,MAAMC,EAAQJ,EAAK,cAAc,OAAO,EACxCI,EAAM,UAAU,IAAI,WAAW,EAE/B,MAAMC,EAAiB,KAAK,MAAM,aAAa,QAAQN,CAAW,CAAC,EAG/DM,IACAH,EAAS,MAAQG,EAAe,QAAQ,KAAI,EAC5CJ,EAAM,MAAQI,EAAe,MAAM,KAAI,EACvCF,EAAI,SAAW,EAAEF,EAAM,OAASC,EAAS,QAG7CF,EAAK,iBAAiB,QAASM,EAAS,IAAM,CAC1C,aAAa,QAAQP,EAAa,KAAK,UAAU,CAAE,MAAOE,EAAM,MAAO,QAASC,EAAS,KAAK,CAAE,CAAC,EACjGC,EAAI,SAAW,EAAEF,EAAM,OAASC,EAAS,MAE7C,EAAE,GAAG,CAAC,EAENF,EAAK,iBAAiB,SAAUO,GAAS,CACrCA,EAAM,eAAc,EACpB,QAAQ,IAAI,CAAE,MAAON,EAAM,MAAO,QAASC,EAAS,KAAK,CAAE,EAC3DF,EAAK,MAAK,EACV,aAAa,WAAWD,CAAW,EACnCI,EAAI,SAAW,EACnB,CAAC"}